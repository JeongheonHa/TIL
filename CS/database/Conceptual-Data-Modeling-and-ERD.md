# 데이터베이스 설계

## 1. ERD 모델과 릴레이션 변환 규칙을 이용한 설계 과정
<img src = "https://user-images.githubusercontent.com/108064146/215452756-3d7d8ccb-5202-463d-a6a4-658b50dff810.png">

## 2. 데이터 모델링
현실 세계에 존재하는 데이터를 추상화하여 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정

### 2.1 개념적 데이터 모델링 (2단계)
현실 세계의 중요 데이터를 추출하여 개념 세계로 옮기는 작업

### 2.2 논리적 데이터 모델링 (3단계)
개념 세계의 데이터를 데이터베이스에 저장하는 구조로 표현하는 작업

## 3. 데이터 모델
데이터 모델링의 결과물을 표현하는 도구

### 3.1 개념적 데이터 모델 (2단계)
현실 세계를 개념적 모델링하여 데이터베이스의 `개념적 구조`로 표현하는 도구 (ex. 개체-관계 모델)

### 3.2 논리적 데이터 모델 (3단계)
개념적 구조를 논리적 모델링하여 데이터베이스의 `논리적 구조`로 표현하는 도구 (ex. 관계 데이터 모델)

## 4. 개체-관계 모델 (E-R model, Entity-Relationship model)
`개체`와 `개체` 간의 `관계`를 이용해 현실 세계를 개념적 구조로 표현 (2단계)

### 4.1 개체-관계 다이어그램 (E-R diagram)
E-R model을 이용해 현실 세계를 개념적으로 모델링한 결과물을 그림으로 표현한 것 (2단계)

<img src="https://user-images.githubusercontent.com/108064146/215758760-e284c931-f801-4152-a5e8-4a2cd10569a4.png">

### 4.2 용어와 E-R 다이어그램 표현 방법
<img src="https://user-images.githubusercontent.com/108064146/215458760-672e0307-c2ba-443c-8a33-b89ad6fc36d6.png">

#### 개체 (Entity)
1개 이상의 속성을 갖는 개념 또는 정보의 세계에서 의미있는 하나의 정보 단위
- `사각형`으로 표현

#### 속성 (Attribute)
개체나 관계가 갖는 고유한 특성
- 파일 구조의 `field`와 대응
- `타원`으로 표현

#### 개체 타입 (Entity type)
개체를 고유의 이름과 속성들로 정의한 것
- 파일 구조의 `record type`과 대응

#### 개체 인스턴스 (Entity instance)
개체를 구성하고 있는 속성이 실제 값을 가짐으로서 실체화된 개체
- 파일 구조의 `record instance`에 대응

#### 개체 집합 (Entity set)
특정 개체 타입에 대한 개체 인스턴스들을 모아놓은 것

## 5 속성의 분류

### 5.1 단일 값 속성
값을 하나만 가질 수 있는 속성 (ex. 이름)

### 5.2 다중 값 속성
값을 여러 개 가질 수 있는 속성 (ex. 책의 저자)
- `2중 타원`으로 표현

### 5.3 단순 속성
의미를 더는 분해 할 수 없는 속성 (ex. 책의 이름)

### 5.4 복합 속성
의미를 분해할 수 있는 속성 (ex. 주소)

### 5.5 유도 속성
기존의 다른 속성의 값에서 유도되어 결정되는 속성 (ex. 출생연도로 나이 유도 가능)
- 값이 별도로 저장되지 않는다.
- `점선 타원`으로 표현

### 5.6 널 속성
널 값이 허용되는 속성 (ex. 회원의 등급이 아직 결정되지 않는 경우 null)

### 5.7 키 속성
각 개체 인스턴스를 식별하는데 사용되는 속성
- `밑줄`로 표현

## 6. 관계(relationship)
개체와 개체가 맺는 연관성
- 관계 또한 속성을 가질 수 있다.
- `마름모`로 표현

### 6.1 관계의 유형
- `이항 관계`: 개체 타입 두 개가 맺는 관계
- `삼항 관계`: 개체 타입 세 개가 맺는 관계
- `순환 관계`: 개체 타입 하나가 자기 자신과 맺는 관계

### 6.2 매핑 카디널리티 기준 관계의 유형

#### 일대일 관계 (1:1)
개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 하나와 관계를 맺을 수 있고 역으로도 동일하다. (ex. 남자(A)와 여자(B)의 결혼 관계)

#### 일대다 관계 (1:n)
개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 여러 개와 관계를 맺을 수 있지만, 개체 B의 각 개체 인스턴스는 개체 A의 개체 인스턴스 하나와 관계를 맺을 수 있다. (ex. 부서(A)와 사원(B)의 소속 관계)

#### 다대다 관계 (n:m)
개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 여러 개와 관계를 맺을 수 있고 역으로도 동일하다. (ex. 고객(A)과 책(B)의 구매 관계)

### 6.3 관계의 참여

#### 필수적 참여(전체 참여)
모든 개체 인스턴스가 관계에 반드시 참여해야는 것
- `이중선`으로 표현

#### 선택적 참여(부분 참여)
개체 인스턴스 중 일부만 관계에 참여해도 되는 것

### 6.4 관계의 종속성
- 오너 개체와 약한 개체는 일반적으로 `일대다 관계`를 가지며, 약한 개체는 오너 개체와의 관계에 `필수적으로 참여`하는 특징이 있다.
- 약한 개체는 오너 개체의 키를 포함하여 키를 구성
- 약한 개체는 `이중 사각형`으로 표현, 약한 개체와 오너 개체의 관계는 `이중 마름모`로 표현
#### 약한 개체
다른 개체의 존재 여부에 의존적인 개체

#### 오너 개체
다른 개체의 존재 여부를 결정하는 개체

## 7. 정리
<img src="https://user-images.githubusercontent.com/108064146/215471117-ca0bb1ae-f7c2-4bbb-8dcb-719b0b25888a.jpg">
