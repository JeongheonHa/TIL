# 기본 정규형과 정규화 과정
- 정규화를 통해 릴레이션은 `무손실 분해`되어야한다.
    - 릴레이션은 의미적으로 동등한 릴레이션들로 분해되어야하고 분해로 인한 정보의 손실이 발생하지 않아야한다.
    - 분해된 릴레이션들을 `자연 조인`하면 분해 전의 릴레이션으로 `복원`이 가능해야한다.

## 1. 정규형 (NF, Normal Form)
- 릴레이션이 정규화된 정도

<img src="https://user-images.githubusercontent.com/108064146/216339048-32bcc4d0-19b0-417d-ba9c-de44030bee4a.png">



### 1.1 각 정규형마다 제약조건이 존재
- 정규형의 차수가 높아질수록 요구되는 제약조건이 많아지고 엄격해진다.
- 정규형의 차수가 높아질수록 데이터 중복이 줄어 이상 현상이 발생하지 않는 바람직한 릴레이션이된다.

## 2. 정규형 과정
<img src="https://user-images.githubusercontent.com/108064146/216347059-cace09b3-72bd-4589-b649-115e27dac560.png">

### 2.1 제 1 정규형 (1NF)
- 릴레이션에 속한 모든 속성의 도메인이 원자 값으로만 구성된다.
- 제 1 정규형을 만족해야 관계 데이터베이스의 릴레이션이 될 자격이 있다.

#### 제 1 정규형 이상현상 발생
- 데이터의 중복으로 인해 `삽입`, `갱신`, `삭제` 이상이 발생할 수 있다.
- 이상 현상 발생 이유: 기본키인 {고객아이디, 이벤트번호}에 `완전 함수 종속`되지 못하고 일부분인 고객아이디에 종속되는 등급과 할인율 속성이 존재하기 때문이다.

<img src="https://user-images.githubusercontent.com/108064146/216338650-ac431338-3c5f-4d4e-9010-a8834de6803b.png">

### 2.2 제 2 정규형 (2NF)
- 릴레이션이 제 1 정규형에 속하고, 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속된다.

<img src="https://user-images.githubusercontent.com/108064146/216339602-24bf3472-2318-4485-b572-0647c061daa9.png">

#### 제 2 정규형 이상현상 발생
- `이행적 함수 종속`으로 인해 `삽입`, `갱신`, `삭제` 이상이 발생할 수 있다.

<img src="https://user-images.githubusercontent.com/108064146/216341517-8e06eb50-91d5-4aec-b864-2c90aa24e5be.png">

### 2.3 제 3 정규형 (3NF)
- 릴레이션이 제 2 정규형에 속하고, 기본키가 아닌 모든 속성이 기본키에 이행적 함수 종속되지 않는다.

<img src="https://user-images.githubusercontent.com/108064146/216342181-2b5df9f2-f27d-4769-aff4-68a525f7c5b1.png">

#### 제 3 정규형 이상 현상 발생
- 하나의 릴레이션에 여러 개의 후보키가 존재하는 경우 삽입, 갱신, 삭제 이상이 발생할 수 있다.


<img src="https://user-images.githubusercontent.com/108064146/216345910-727a376d-1f49-4096-9b70-b8e23763d901.png">

### 2.4 보이스/코드 정규형 (BCNF)
- 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키이면 보이스/코드 정규형에 속한다.

<img src="https://user-images.githubusercontent.com/108064146/216346167-79e165bd-d8c8-4fa8-8ca5-038a0bc8ffac.png">

## 3. 고급 정규형
일반적으로 `제 3 정규형`이나 `보이스/코드 정규형`에 속하도록 릴레이션을 분해하여 데이터 중복을 줄이고 이상 현상 문제를 해결하기 때문에 `제 4, 5 정규형`을 잘 사용하지 않는다.
### 3.1 제 4 정규형
- 릴레이션이 보이스/코드 정규형을 만족하면서 함수 종속이 아닌 다치 종속을 제거해야 만족한다.

### 3.2 제 5 정규형
- 릴레이션이 제 4 정규형을 만족하면서 후보키를 통하지 않는 조인 종속을 제거해야 만족한다.
